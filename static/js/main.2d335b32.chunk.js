(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,c,s){},69:function(e,c,s){"use strict";s.r(c);var t=s(0),a=s(1),r=s.n(a),l=s(32),i=s.n(l),n=s(2),j=s.n(n),d=s(7),b=s(3),o=(s(41),s(4)),m=s(9),p=Object(a.createContext)(null),O=s(5),h=s.n(O),x=(s(60),s(6)),v=s.n(x),u=Object(a.createContext)(null);var N=function(){var e=Object(a.useContext)(u).load;return Object(a.useContext)(p).userData.user?Object(t.jsx)("div",{className:"navbar-fixed",children:Object(t.jsx)("nav",{children:Object(t.jsxs)("div",{className:"nav-wrapper white",children:[Object(t.jsx)(o.b,{to:"/",style:{marginLeft:"0.5rem"},className:"brand-logo black-col left",children:"Postinger"}),Object(t.jsxs)("ul",{id:"nav-mobile",className:"right",children:[Object(t.jsx)("li",{children:Object(t.jsx)(o.b,{to:"/",className:" black-col",children:Object(t.jsx)("i",{className:"material-icons",children:"home"})})}),Object(t.jsx)("li",{children:Object(t.jsx)(o.b,{to:"/new",className:"black-col",children:Object(t.jsx)("i",{className:"material-icons",children:"add_a_photo"})})}),Object(t.jsx)("li",{children:Object(t.jsx)(o.b,{to:"/myprofile",className:"black-col",children:Object(t.jsx)("i",{className:"material-icons",children:"account_circle"})})}),Object(t.jsx)("li",{children:Object(t.jsx)(o.b,{to:"/settings",className:"black-col",children:Object(t.jsx)("i",{className:"material-icons",children:"settings"})})})]}),Object(t.jsx)("div",{className:"progress indigo lighten-3",children:Object(t.jsx)("div",{className:"determinate indigo",style:{width:"".concat(e,"%")}})})]})})}):Object(t.jsx)("div",{className:"navbar-fixed",children:Object(t.jsx)("nav",{children:Object(t.jsxs)("div",{className:"nav-wrapper white",children:[Object(t.jsx)(o.b,{to:"/",className:"brand-logo black-col left",style:{marginLeft:"0.5rem"},children:"Postinger"}),Object(t.jsxs)("ul",{id:"nav-mobile",className:"right",children:[Object(t.jsx)("li",{children:Object(t.jsx)(o.b,{to:"/",className:" black-col",children:Object(t.jsx)("i",{className:"material-icons",children:"home"})})}),Object(t.jsx)("li",{children:Object(t.jsx)(o.b,{to:"/register",className:"black-col",children:Object(t.jsx)("i",{className:"material-icons",children:"account_circle"})})}),Object(t.jsx)("li",{children:Object(t.jsx)(o.b,{to:"/login",className:"black-col",children:Object(t.jsx)("i",{className:"material-icons",children:"reply_all"})})})]}),Object(t.jsx)("div",{className:"progress indigo lighten-3",children:Object(t.jsx)("div",{className:"determinate indigo",style:{width:"".concat(e,"%")}})})]})})})},g="https://postinger-api.herokuapp.com";var f=function(){var e=Object(a.useState)(""),c=Object(b.a)(e,2),s=c[0],r=c[1],l=Object(a.useState)(""),i=Object(b.a)(l,2),n=i[0],O=i[1],x=Object(m.f)(),N=Object(a.useContext)(u).setLoad,f=Object(a.useContext)(p),y=f.setuserData,w=f.userData,k=function(){var e=Object(d.a)(j.a.mark((function e(c){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,e.next=4,h.a.post("".concat(g,"/auth/login"),{email:s,password:n});case 4:t=e.sent,y({user:t.data.user,token:t.data.token}),localStorage.setItem("USER_TOKEN",t.data.token),v.a.toast({html:"You are now logged in",classes:"green"}),v.a.toast({html:"Shahal, Hai ".concat(t.data.user.name),classes:"green"}),x.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),v.a.toast({html:e.t0.response.data.msg,classes:"red"});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(c){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){w.user&&x.push("/")}),[]),N(100),Object(t.jsxs)("div",{children:[Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:"Login"})}),Object(t.jsx)("div",{children:Object(t.jsxs)("form",{children:[Object(t.jsxs)("div",{className:"input-field col s12",children:[Object(t.jsx)("input",{type:"text",id:"email",className:"validate",onChange:function(e){return r(e.target.value)},value:s}),Object(t.jsx)("label",{htmlFor:"email","data-error":"wrong","data-success":"right",children:"Username or Email"})]}),Object(t.jsxs)("div",{className:"input-field col s12",children:[Object(t.jsx)("input",{type:"password",id:"Password",className:"validate",value:n,onChange:function(e){return O(e.target.value)}}),Object(t.jsx)("label",{htmlFor:"Password","data-error":"wrong","data-success":"right",children:"Password"})]}),Object(t.jsx)("button",{className:"btn blue",onClick:k,name:"action",children:"Login"}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{}),"Don't have an account ? ",Object(t.jsx)(o.b,{to:"/register",children:"Create account"})]})})]})};var y=function(){var e=Object(a.useState)(""),c=Object(b.a)(e,2),s=c[0],r=c[1],l=Object(a.useState)(""),i=Object(b.a)(l,2),n=i[0],O=i[1],x=Object(a.useState)(""),N=Object(b.a)(x,2),f=N[0],y=N[1],w=Object(a.useState)(""),k=Object(b.a)(w,2),S=k[0],_=k[1],E=Object(a.useState)(""),C=Object(b.a)(E,2),F=C[0],T=C[1],L=Object(a.useContext)(p),I=L.setuserData,U=L.userData,P=Object(a.useContext)(u).setLoad,A=Object(m.f)(),H=function(){var e=Object(d.a)(j.a.mark((function e(c){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c.preventDefault(),e.next=4,h.a.post("".concat(g,"/auth/register"),{email:s,password:n,name:f,username:S,con_password:F});case 4:t=e.sent,I({user:t.data.user,token:t.data.token}),localStorage.setItem("USER_TOKEN",t.data.token),v.a.toast({html:"Your account was created",classes:"green"}),v.a.toast({html:"Shahal, Thank you ".concat(f," for joining to us"),classes:"green"}),A.push("/"),e.next=16;break;case 12:if(e.prev=12,e.t0=e.catch(0),!(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.msg)){e.next=16;break}return e.abrupt("return",v.a.toast({html:e.t0.response.data.msg,classes:"red"}));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(c){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){U.user&&A.push("/")}),[]),P(100),Object(t.jsxs)("div",{children:[Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:"Create new account"})}),Object(t.jsxs)("form",{children:[Object(t.jsxs)("div",{className:"input-field col s12 l6",children:[Object(t.jsx)("input",{type:"text",id:"Name",value:f,className:"validate",onChange:function(e){return y(e.target.value)}}),Object(t.jsx)("label",{htmlFor:"Name",children:"Full Name"})]}),Object(t.jsxs)("div",{className:"input-field col s12 l6",children:[Object(t.jsx)("input",{type:"text",id:"username",value:S,className:"validate",maxLength:"19",onChange:function(e){return _(e.target.value)}}),Object(t.jsx)("label",{htmlFor:"username",children:"username"})]}),Object(t.jsxs)("div",{className:"input-field col s12",children:[Object(t.jsx)("input",{type:"email",id:"email",className:"validate",onChange:function(e){return r(e.target.value)},value:s}),Object(t.jsx)("label",{htmlFor:"email","data-error":"wrong","data-success":"right",children:"Email"})]}),Object(t.jsxs)("div",{className:"input-field col s12",children:[Object(t.jsx)("input",{type:"password",id:"Password",className:"validate",value:n,onChange:function(e){return O(e.target.value)}}),Object(t.jsx)("label",{htmlFor:"Password","data-error":"wrong","data-success":"right",children:"Password"})]}),Object(t.jsxs)("div",{className:"input-field col s12",children:[Object(t.jsx)("input",{type:"password",id:"con_password",value:F,className:"validate",onChange:function(e){return T(e.target.value)}}),Object(t.jsx)("label",{htmlFor:"con_password","data-error":"wrong","data-success":"right",children:"Confirm Password"})]}),Object(t.jsx)("button",{className:"btn blue",onClick:H,name:"action",children:"Create Account"}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{}),"Already have an account ? ",Object(t.jsx)(o.b,{to:"/login",children:"Login"})]})]})},w=s(15),k=s(18);var S=function(){var e=Object(a.useState)(!1),c=Object(b.a)(e,2),s=c[0],r=c[1];Object(a.useEffect)((function(){if(!N.user)return O.push("/login")}),[]);var l=Object(a.useState)(""),i=Object(b.a)(l,2),n=i[0],o=i[1],O=Object(m.f)(),x=function(e){var c=e.target.files[0];S(c)},N=Object(a.useContext)(p).userData,f=Object(a.useContext)(u).setLoad,y=function(){var e=Object(d.a)(j.a.mark((function e(c){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=localStorage.getItem("USER_TOKEN"),e.next=4,h.a.post("".concat(g,"/post/upload"),{image:c,body:n},{headers:{"SHAHAL-USER_TOKEN":s}});case 4:v.a.toast({html:"New Post Created",classes:"green"}),O.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v.a.toast({html:e.t0.response.data.msg,classes:"red"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(c){return e.apply(this,arguments)}}(),S=function(e){var c=new FileReader;c.readAsDataURL(e),c.onloadend=function(){r(c.result)}};return f(100),Object(t.jsxs)("div",{children:[Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:"New Post"})}),Object(t.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),N.user?s?void y(s):v.a.toast({html:"Please upload a image",classes:"red"}):(v.a.toast({html:"Please login",classes:"red"}),O.push("/login"))},children:[Object(t.jsx)("div",{className:"input-field col s12 l6",children:Object(t.jsx)(k.a,{multiple:!1,maxSize:8e7,children:function(e){var c=e.getRootProps,s=e.getInputProps;return Object(t.jsxs)("div",Object(w.a)(Object(w.a)({style:{width:"300px",height:"240px",border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center",background:"white",cursor:"pointer"}},c()),{},{children:[Object(t.jsx)("input",Object(w.a)(Object(w.a)({},s()),{},{accept:"image/*",onChange:x})),Object(t.jsx)("i",{style:{fontSize:"40px"},className:"material-icons",children:"add_a_photo"})]}))}})}),Object(t.jsx)("br",{}),s&&Object(t.jsx)("div",{className:"row",children:Object(t.jsx)("div",{className:"col s12 m4 l4",style:{marginLeft:"-1rem"},children:Object(t.jsx)("div",{className:"card",children:Object(t.jsx)("div",{className:"card-image",children:Object(t.jsx)("img",{src:s,className:"img-responsive",alt:"choosen"})})})})}),Object(t.jsx)("div",{className:"input-field col s12",children:Object(t.jsx)("input",{placeholder:"Type your description",value:n,onChange:function(e){return o(e.target.value)}})}),Object(t.jsx)("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",children:"Create"})]})]})};var _=function(e){var c=Object(m.f)(),s=Object(a.useContext)(p).userData,r=Object(a.useContext)(u).setLoad,l=Object(a.useState)(0),i=Object(b.a)(l,2),n=i[0],o=i[1],O=Object(a.useState)(null),x=Object(b.a)(O,2),N=x[0],f=x[1],y={};y=e.post?{postId:e.postId}:{commentId:e.commentId},Object(a.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(0),e.next=4,h.a.post("".concat(g,"/likes/getLikes"),y);case 4:(c=e.sent).data.likes.map((function(e){if(e.userId===s.user._id)return f(!0)})),o(c.data.likes.length),r(100),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var w=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=14;break}return e.prev=1,e.next=4,h.a.post("".concat(g,"/likes/unLike"),y,{headers:{"SHAHAL-USER_TOKEN":localStorage.getItem("USER_TOKEN")}});case 4:o(n-1),f(!1),e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.response.data.msg){e.next=12;break}return e.abrupt("return",f(!0));case 12:e.next=24;break;case 14:return e.prev=14,e.next=17,h.a.post("".concat(g,"/likes/upLike"),y,{headers:{"SHAHAL-USER_TOKEN":localStorage.getItem("USER_TOKEN")}});case 17:o(n+1),f(!0),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(14),console.log(e.t1);case 24:case"end":return e.stop()}}),e,null,[[1,8],[14,21]])})));return function(){return e.apply(this,arguments)}}();return s.user?Object(t.jsxs)("div",{children:[Object(t.jsxs)("span",{children:[Object(t.jsx)("i",{onClick:w,className:"material-icons left",style:{color:"red",cursor:"pointer"},children:N?Object(t.jsx)(t.Fragment,{children:"favorite"}):Object(t.jsx)(t.Fragment,{children:"favorite_border"})}),Object(t.jsx)("span",{className:"left",style:{marginLeft:"-.7rem"},children:n})]}),Object(t.jsx)("br",{})]}):Object(t.jsxs)("div",{children:[Object(t.jsx)("i",{onClick:function(){return v.a.toast({html:"Please login",classes:"red"})&&c.push("/login")},className:"material-icons left",style:{color:"red",cursor:"pointer"},children:N?Object(t.jsx)(t.Fragment,{children:"favorite"}):Object(t.jsx)(t.Fragment,{children:"favorite_border"})}),Object(t.jsx)("span",{className:"left",style:{marginLeft:"-.7rem"},children:n}),Object(t.jsx)("br",{})]})},E=s(16),C=s.n(E);var F=function(){var e=Object(m.f)(),c=Object(a.useContext)(p).userData,s=Object(a.useContext)(u).setLoad,l=Object(a.useState)(!1),i=Object(b.a)(l,2),n=i[0],O=i[1];return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(g,"/post/getAll"));case 3:c=e.sent,O(c.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),O(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),n?(s(100),n.length<1?c.user?Object(t.jsx)(r.a.Fragment,{children:Object(t.jsxs)("div",{className:"center",style:{marginTop:"5rem"},children:[Object(t.jsx)("h5",{children:"No posts found"}),Object(t.jsx)("br",{}),Object(t.jsx)(o.b,{to:"/new",className:"btn",children:"Upload"})]})}):Object(t.jsx)(r.a.Fragment,{children:Object(t.jsxs)("div",{className:"center",style:{marginTop:"5rem"},children:[Object(t.jsx)("h5",{children:"No posts found"}),Object(t.jsx)("br",{}),Object(t.jsx)(o.b,{to:"/login",className:"btn",children:"Login and upload"})]})}):c.user?Object(t.jsx)("div",{children:n.map((function(c){return Object(t.jsx)(t.Fragment,{children:0===c.user.privacy&&Object(t.jsxs)("div",{className:"card home-card center",children:[Object(t.jsxs)(o.b,{to:"/profile/".concat(c.user._id),children:[Object(t.jsx)("img",{className:"circle imghome",src:c.user.image,alt:"avatar"}),Object(t.jsx)("h4",{className:"a card-text",children:c.user.username})]}),Object(t.jsx)("div",{className:"card-image",children:Object(t.jsx)("span",{children:Object(t.jsx)("img",{src:c.file,alt:"Postimg",style:{minHeight:"13rem",maxHeight:"46rem"}})})}),Object(t.jsx)("span",{className:"right",children:Object(t.jsx)("strong",{style:{marginLeft:"-8rem"},children:C()(c.createdAt).fromNow()})}),Object(t.jsx)(_,{post:!0,postId:c._id}),Object(t.jsxs)("div",{className:"card-content",children:[Object(t.jsx)("div",{className:"center",children:Object(t.jsx)("span",{children:c.body})}),Object(t.jsx)("br",{}),Object(t.jsx)("button",{className:"btn waves-effect waves-light",onClick:function(){return e.push("/post/".concat(c._id))},children:"View Post"})]})]})})}))}):(s(100),Object(t.jsx)("div",{children:n.map((function(c){return Object(t.jsx)(t.Fragment,{children:0===c.user.privacy&&Object(t.jsxs)("div",{className:"card home-card center",children:[Object(t.jsxs)(o.b,{to:"/profile/".concat(c.user._id),children:[Object(t.jsx)("img",{className:"imghome",src:c.user.image,alt:"avatar"}),Object(t.jsx)("h4",{className:"usernameonheader a",children:c.user.username})]}),Object(t.jsx)("div",{className:"card-image",children:Object(t.jsx)("span",{children:Object(t.jsx)("img",{src:c.file,alt:"Postimg",style:{minHeight:"13rem",maxHeight:"31rem"}})})}),Object(t.jsx)("span",{style:{marginLeft:"-12rem"},className:"right",children:Object(t.jsx)("strong",{children:C()(c.createdAt).fromNow()})}),Object(t.jsx)(_,{post:!0,postId:c._id}),Object(t.jsxs)("div",{className:"card-content",children:[Object(t.jsx)("div",{className:"center",children:Object(t.jsx)("span",{children:c.body})}),Object(t.jsx)("br",{}),Object(t.jsx)("button",{className:"btn waves-effect waves-light",onClick:function(){return e.push("/post/".concat(c._id))},children:"View Post"})]})]})})}))}))):(s(18),Object(t.jsxs)("div",{children:[Object(t.jsxs)("div",{className:"hide-on-med-and-down preloader-wrapper big active",style:{left:"40rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-large-only hide-on-small-only  preloader-wrapper big active",style:{left:"26.3rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-med-and-up preloader-wrapper big active",style:{left:"9.1rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]})]}))};var T=function(e){var c=e.comment,s=(e.postId,Object(a.useContext)(p).userData),r=Object(m.f)(),l=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(g,"/post/deleteComment"),{commentId:c._id},{headers:{"SHAHAL-USER_TOKEN":localStorage.getItem("USER_TOKEN")}});case 2:e.sent,v.a.toast({html:"Comment deleted",classes:"green"}),r.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(t.jsxs)("li",{className:"collection-item avatar",children:[Object(t.jsx)("img",{src:c.writer.image,alt:"avatar",className:"circle"}),Object(t.jsx)("span",{className:"title",children:Object(t.jsx)("strong",{children:c.writer.username})}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{}),Object(t.jsx)("span",{children:c.content}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{}),Object(t.jsx)("strong",{children:C()(c.createdAt).fromNow()}),Object(t.jsx)(o.b,{to:"#",className:"secondary-content",children:Object(t.jsx)(_,{comment:!0,commentId:c._id})}),s.user&&s.user._id===c.writer._id&&Object(t.jsx)("i",{style:{color:"red",cursor:"pointer"},className:"material-icons right",onClick:l,children:"delete"})]})};var L=function(e){var c=e.postId,s=e.refreshFunction,l=e.CommentLists,i=Object(a.useContext)(p).userData,n=Object(a.useState)(""),o=Object(b.a)(n,2),m=o[0],O=o[1],x=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,r,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={content:m,postId:c},r=localStorage.getItem("USER_TOKEN"),e.next=6,h.a.post("".concat(g,"/post/saveComment"),a,{headers:{"SHAHAL-USER_TOKEN":r}});case 6:l=e.sent,v.a.toast({html:"Comment added",classes:"green"}),O(""),s(l.data.comment),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),v.a.toast({html:e.t0.response.data.msg,classes:"red"}),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(c){return e.apply(this,arguments)}}();return Object(t.jsxs)("div",{children:[i.user&&Object(t.jsxs)("form",{onSubmit:x,children:[Object(t.jsx)("div",{className:"input-field col s12",children:Object(t.jsx)("input",{type:"text",required:!0,onChange:function(e){return O(e.target.value)},value:m,placeholder:"add a comment",maxLength:"150"})}),Object(t.jsx)("button",{type:"submit",className:"btn waves-effect waves-light",onClick:x,children:"Send"})]}),Object(t.jsx)("br",{}),l.length," Comments",Object(t.jsx)("br",{}),Object(t.jsx)("br",{}),Object(t.jsx)("ul",{className:"collection",children:l&&l.map((function(e){return Object(t.jsx)(r.a.Fragment,{children:Object(t.jsx)(T,{comment:e,postId:c})})}))})]})};var I=function(e){var c=e.userTo,s=e.userFrom,l=e.showInProfile,i=e.profile,n=Object(a.useState)(0),o=Object(b.a)(n,2),O=o[0],x=o[1],u=Object(a.useState)(!1),N=Object(b.a)(u,2),f=N[0],y=N[1],w=Object(m.f)(),k=Object(a.useContext)(p).userData;Object(a.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(g,"/follow/count"),{userTo:c});case 3:return t=e.sent,x(t.data.followers.length),e.next=7,h.a.post("".concat(g,"/follow/followed"),{userTo:c,userFrom:s});case 7:a=e.sent,y(a.data.followed),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var S=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.user._id===c){e.next=14;break}if(!f){e.next=8;break}return e.next=4,h.a.post("".concat(g,"/follow/unFollow"),{userTo:c},{headers:{"SHAHAL-USER_TOKEN":localStorage.getItem("USER_TOKEN")}});case 4:e.sent.data.success&&(y(!1),x(O-1)),e.next=12;break;case 8:return e.next=10,h.a.post("".concat(g,"/follow/follow"),{userTo:c},{headers:{"SHAHAL-USER_TOKEN":localStorage.getItem("USER_TOKEN")}});case 10:e.sent.data.success&&(y(!0),x(O+1));case 12:e.next=15;break;case 14:return e.abrupt("return",v.a.toast({html:"Shahal, This profile is yours you can't follow yourself",classes:"red"}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l?Object(t.jsxs)(r.a.Fragment,{children:[O," Followers"]}):k.user?Object(t.jsx)("div",{children:i?Object(t.jsx)(t.Fragment,{children:c===k.user._id?Object(t.jsx)(t.Fragment,{children:"This is you"}):Object(t.jsx)("button",{onClick:S,className:f?"btn red waves-effect waves-light":"btn waves-effect waves-light",children:f?"Followed":"Follow"})}):Object(t.jsxs)("button",{onClick:S,className:f?"btn red waves-effect waves-light":"btn waves-effect waves-light",children:[O," ",f?"Followed":"Follow"]})}):Object(t.jsx)("div",{children:i?Object(t.jsx)("button",{onClick:function(){return w.push("/login")},className:f?"btn red waves-effect waves-light":"btn waves-effect waves-light",children:f?"Followed":"Follow"}):Object(t.jsxs)("button",{onClick:function(){return w.push("/login")},className:f?"btn red waves-effect waves-light":"btn waves-effect waves-light",children:[O," ",f?"Followed":"Follow"]})})};var U=function(){var e=Object(a.useState)(!1),c=Object(b.a)(e,2),s=c[0],l=c[1],i=Object(a.useState)([]),n=Object(b.a)(i,2),O=n[0],x=n[1],N=Object(m.f)(),f=Object(m.g)().id,y=Object(a.useContext)(p).userData,w=Object(a.useContext)(u).setLoad;Object(a.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(g,"/post/getOne/").concat(f));case 3:c=e.sent,l(c.data.post),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(function(){var e=Object(d.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(g,"/post/getComments/").concat(f));case 3:c=e.sent,x(c.data.comments),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()(),e()}),[f]);var k=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.user._id!==y.user._id){e.next=7;break}return e.next=3,h.a.post("".concat(g,"/post/deletePost"),{_id:s._id,userId:y.user._id},{headers:{"SHAHAL-USER_TOKEN":localStorage.getItem("USER_TOKEN")}});case 3:v.a.toast({html:"Post deleted successfully",classes:"green"}),N.push("/"),e.next=8;break;case 7:v.a.toast({html:"You can only delete your post",classes:"red"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return null===s?(w(100),Object(t.jsx)(r.a.Fragment,{children:Object(t.jsxs)("div",{className:"center",style:{marginTop:"5rem"},children:[Object(t.jsx)("h5",{children:"Post not found"}),Object(t.jsx)("br",{}),Object(t.jsx)(o.b,{to:"/",className:"btn",children:"Go to Home"})]})})):s?(w(100),Object(t.jsx)("div",{children:0===s.user.privacy||s.user._id===y.user._id&&!1===s.deleted?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)("div",{className:"card home-card center",children:[Object(t.jsxs)(o.b,{to:"/profile/".concat(s.user._id),children:[Object(t.jsx)("img",{className:"imghome circle",src:s.user.image,alt:""}),Object(t.jsx)("h4",{className:"a",children:s.user.username})]}),Object(t.jsxs)("div",{className:"card-image",children:[Object(t.jsx)("img",{src:s.file,alt:"Postimg",style:{minHeight:"13rem",maxHeight:"46rem"}}),Object(t.jsx)("span",{className:"right",children:Object(t.jsx)("strong",{style:{marginLeft:"-8rem"},children:C()(s.createdAt).fromNow()})}),Object(t.jsx)(_,{post:!0,postId:s._id})]}),Object(t.jsxs)("div",{className:"card-content",children:[y.user._id===s.user._id&&Object(t.jsx)("i",{className:"material-icons right",style:{color:"red",cursor:"pointer"},onClick:k,children:"delete"}),Object(t.jsx)("div",{className:"center",children:Object(t.jsx)("span",{children:s.body})})]})]}),y.user&&y.user._id===s.user._id&&Object(t.jsx)(t.Fragment,{}),y.user._id!==s.user._id&&!1===s.user.isAdmin&&Object(t.jsx)(I,{post:!0,userTo:s.user._id,userFrom:y.user._id}),Object(t.jsxs)("div",{class:"modal",children:[Object(t.jsxs)("div",{class:"modal-content",children:[Object(t.jsx)("h4",{children:"Modal Header"}),Object(t.jsx)("p",{children:"A bunch of text"})]}),Object(t.jsx)("div",{class:"modal-footer",children:Object(t.jsx)("a",{href:"#!",class:"modal-close waves-effect waves-green btn-flat",children:"Agree"})})]}),Object(t.jsx)(L,{postId:s._id,refreshFunction:function(e){x(O.concat(e))},CommentLists:O})]}):Object(t.jsx)(r.a.Fragment,{children:Object(t.jsxs)("div",{className:"center",style:{marginTop:"5rem"},children:[Object(t.jsx)("h5",{children:"This post is private"}),Object(t.jsx)("br",{}),Object(t.jsx)(o.b,{to:"/",className:"btn",children:"Go to Home"})]})})})):(w(29),Object(t.jsxs)("div",{children:[Object(t.jsxs)("div",{className:"hide-on-med-and-down preloader-wrapper big active",style:{left:"40rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-large-only hide-on-small-only  preloader-wrapper big active",style:{left:"26.3rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-med-and-up preloader-wrapper big active",style:{left:"9.1rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]})]}))};var P=function(e){var c=e.user,s=Object(a.useState)(c.name),r=Object(b.a)(s,2),l=r[0],i=r[1],n=Object(a.useState)(c.email),o=Object(b.a)(n,2),O=o[0],x=o[1],u=Object(a.useContext)(p),N=u.setuserData,f=u.userData,y=Object(a.useState)(c.username),S=Object(b.a)(y,2),_=S[0],E=S[1],C=Object(a.useState)(c.bio),F=Object(b.a)(C,2),T=F[0],L=F[1],I=Object(a.useState)(c.image),U=Object(b.a)(I,2),P=U[0],A=U[1],H=Object(m.f)(),R=function(e){var c=e.target.files[0];q(c)},D=function(e){e.preventDefault(),P&&K(P)},K=function(){var e=Object(d.a)(j.a.mark((function e(s){var t,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={image:s,name:l,username:_,bio:T,email:O,_id:c._id},a=localStorage.getItem("USER_TOKEN"),e.next=5,h.a.post("".concat(g,"/user/update"),t,{headers:{"SHAHAL-USER_TOKEN":a}});case 5:r=e.sent,N({token:f.token,user:r.data.user}),v.a.toast({html:"Profile changes saved",classes:"green"}),H.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(c){return e.apply(this,arguments)}}(),q=function(e){var c=new FileReader;c.readAsDataURL(e),c.onloadend=function(){A(c.result)}};return Object(t.jsxs)("div",{style:{marginTop:"2rem"},children:[Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:"Edit"})}),Object(t.jsxs)("form",{onSubmit:D,children:[Object(t.jsx)("div",{className:"input-field col s12 l6",children:Object(t.jsx)("input",{type:"text",id:"Name",value:l,className:"validate",onChange:function(e){return i(e.target.value)},placeholder:"Full Name"})}),Object(t.jsx)("div",{className:"input-field col s12 l6",children:Object(t.jsx)("input",{type:"text",id:"username",value:_,className:"validate",onChange:function(e){return E(e.target.value)},maxLength:"19",placeholder:"Username"})}),Object(t.jsx)("div",{className:"input-field col s12",children:Object(t.jsx)("input",{type:"email",id:"email",className:"validate",onChange:function(e){return x(e.target.value)},value:O,placeholder:"Email"})}),Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:"Bio"})}),Object(t.jsx)("div",{className:"input-field col s12",children:Object(t.jsx)("input",{type:"text",id:"bio",className:"validate",onChange:function(e){return L(e.target.value)},value:T,placeholder:"Bio"})}),Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:"Image"})}),Object(t.jsx)("div",{className:"input-field col s12 l6",children:Object(t.jsx)(k.a,{multiple:!1,maxSize:8e7,children:function(e){var c=e.getRootProps,s=e.getInputProps;return Object(t.jsxs)("div",Object(w.a)(Object(w.a)({style:{width:"300px",height:"240px",border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center",background:"white",cursor:"pointer"}},c()),{},{children:[Object(t.jsx)("input",Object(w.a)(Object(w.a)({},s()),{},{accept:"image/*",onChange:R})),Object(t.jsx)("i",{style:{fontSize:"40px"},className:"material-icons",children:"add_a_photo"})]}))}})}),P&&Object(t.jsx)("div",{className:"card-image",children:Object(t.jsx)("img",{src:P,className:"circle",style:{height:"19rem",width:"19rem"},alt:"choosen"})}),Object(t.jsx)("button",{onClick:D,className:"btn waves-effect waves-light",name:"action",children:"Save"})]})]})};var A=function(e){var c=e.view,s=e.userId,l=e.profile,i=Object(a.useState)(!1),n=Object(b.a)(i,2),o=n[0],m=n[1],O=Object(a.useState)(!1),x=Object(b.a)(O,2),v=x[0],u=x[1],N=Object(a.useContext)(p).userData;return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(g,"/follow/getFollowings"),{userId:s});case 3:(c=e.sent).data.success&&(m(c.data.followings.length),u(c.data.followings)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Something went wrong...");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),c?Object(t.jsx)(r.a.Fragment,{children:o&&v||!1!==v?Object(t.jsxs)("div",{children:[Object(t.jsx)("blockquote",{children:Object(t.jsxs)("p",{children:[o," Followings"]})}),Object(t.jsxs)("table",{className:"centered",children:[Object(t.jsx)("thead",{children:Object(t.jsxs)("tr",{children:[Object(t.jsx)("th",{"data-field":"id",children:"Username"}),Object(t.jsx)("th",{"data-field":"name",children:"Options"})]})}),Object(t.jsx)("tbody",{children:v&&v.map((function(e){return Object(t.jsxs)("tr",{children:[Object(t.jsx)("td",{children:Object(t.jsx)("a",{className:"a1",href:"/profile/".concat(e.userTo._id),children:e.userTo.username})}),Object(t.jsx)("td",{children:Object(t.jsx)(I,{profile:!0,userTo:e.userTo._id,userFrom:N.user._id})})]})}))})]})]}):Object(t.jsxs)("div",{children:[Object(t.jsxs)("div",{className:"hide-on-med-and-down preloader-wrapper big active",style:{left:"40rem",top:"8rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-large-only hide-on-small-only  preloader-wrapper big active",style:{left:"26.3rem",top:"8rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-med-and-up preloader-wrapper big active",style:{left:"9.1rem",top:"8rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]})]})}):l?Object(t.jsxs)(r.a.Fragment,{children:[o," Followings"]}):void 0};var H=function(e){var c=e.user,s=e.postLength,r=Object(a.useContext)(p).userData,l=Object(a.useState)(!1),i=Object(b.a)(l,2),n=i[0],m=i[1],O=Object(a.useState)(!0),x=Object(b.a)(O,2),u=x[0],N=x[1],f=Object(a.useState)(0),y=Object(b.a)(f,2),w=y[0],k=y[1],S=Object(a.useState)(!1),_=Object(b.a)(S,2),E=_[0],C=_[1],F=function(){var e=Object(d.a)(j.a.mark((function e(){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.user._id===c._id||1!==c.privacy){e.next=2;break}return e.abrupt("return",v.a.toast({html:"This is a private account"}));case 2:return e.prev=2,m(!1),N(!0),e.next=7,h.a.post("".concat(g,"/follow/count"),{userTo:c._id});case 7:s=e.sent,k(s.data.followers.length),C(s.data.followers),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return Object(t.jsxs)("div",{children:[r.user._id!==c._id&&Object(t.jsx)("div",{className:"right",children:Object(t.jsx)(I,{post:!0,userTo:c._id,userFrom:r.user._id})}),Object(t.jsx)("img",{src:c.image,style:{width:"40rem",height:"21rem"},alt:"avatar",className:"hide-on-med-and-up circle responsive-img"}),Object(t.jsxs)("div",{className:"row",children:[Object(t.jsxs)("div",{className:"col s12 m4 l4",children:[Object(t.jsx)("br",{className:"hide-on-large-only hide-on-small-only"}),Object(t.jsx)("br",{className:"hide-on-large-only "}),Object(t.jsx)("img",{src:c.image,alt:"avatar",style:{width:"40rem",height:"17rem"},className:"hide-on-large-only hide-on-small-only circle responsive-img"}),Object(t.jsx)("br",{className:" hide-on-small-only"}),Object(t.jsx)("br",{className:" hide-on-small-only"}),Object(t.jsx)("img",{src:c.image,alt:"avatar",style:{width:"18rem",height:"17rem"},className:"hide-on-med-only hide-on-small-only circle responsive-img"})]}),Object(t.jsxs)("div",{className:"col s12 m7 l8",children:[Object(t.jsx)("br",{className:"hide-on-large-only hide-on-small-only"}),Object(t.jsx)("br",{className:"hide-on-large-only hide-on-small-only"}),Object(t.jsx)("br",{className:"hide-on-med-and-down"}),Object(t.jsxs)("ul",{className:"collection with-header",children:[Object(t.jsx)("li",{className:"collection-header",children:Object(t.jsxs)("h4",{children:[Object(t.jsx)("strong",{children:"Name: "}),c.name]})}),Object(t.jsx)("li",{className:"collection-item",children:Object(t.jsxs)("div",{children:[Object(t.jsx)("strong",{children:"Username: "})," ",c.username]})}),Object(t.jsx)("li",{className:"collection-item",children:Object(t.jsxs)("div",{children:[s," Posts"]})}),Object(t.jsx)("li",{className:"collection-item",children:Object(t.jsxs)("div",{children:[Object(t.jsx)(I,{userTo:c._id,userFrom:r.user._id,showInProfile:!0}),Object(t.jsx)(o.b,{to:"#",className:"secondary-content",onClick:F,children:"View"})]})}),Object(t.jsx)("li",{className:"collection-item",children:Object(t.jsxs)("div",{children:[Object(t.jsx)(A,{profile:!0,userId:c._id}),Object(t.jsx)(o.b,{id:"getFollowers",onClick:function(){if(r.user._id!==c._id&&1===c.privacy)return v.a.toast({html:"This is a private account"});N(!1),m(!0)},to:"#",className:"secondary-content",children:"View"})]})}),c.bio&&Object(t.jsx)("li",{className:"collection-item",children:Object(t.jsxs)("div",{children:[Object(t.jsx)("strong",{children:"Bio: "})," ",c.bio]})})]})]})]}),0===c.privacy||c._id===r.user._id?Object(t.jsxs)(t.Fragment,{children:[n&&Object(t.jsx)(A,{profile:!0,view:!0,userId:c._id}),u&&Object(t.jsx)("div",{children:Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("blockquote",{children:Object(t.jsxs)("p",{children:[w," Followers"]})}),Object(t.jsxs)("table",{className:"centered",children:[Object(t.jsx)("thead",{children:Object(t.jsxs)("tr",{children:[Object(t.jsx)("th",{"data-field":"id",children:"Username"}),Object(t.jsx)("th",{"data-field":"name",children:"Options"})]})}),Object(t.jsx)("tbody",{children:E&&E.map((function(e){return Object(t.jsxs)("tr",{children:[Object(t.jsx)("td",{children:Object(t.jsx)("a",{className:"a1",href:"/profile/".concat(e.userFrom._id),children:e.userFrom.username})}),Object(t.jsx)("td",{children:Object(t.jsx)(I,{profile:!0,userTo:e.userFrom._id,userFrom:r.user._id})})]})}))})]})]})})]}):Object(t.jsx)(t.Fragment,{children:Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:"This is private account"})})})]})};var R=function(e){var c=e.posts,s=e.user,l=Object(a.useContext)(p).userData;return c.length<1?Object(t.jsx)(r.a.Fragment,{children:Object(t.jsx)("div",{className:"center",style:{marginTop:"5rem"},children:l.user._id===s._id?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("h5",{children:"Nothing was uploaded"}),Object(t.jsx)(o.b,{to:"/new",className:"btn",children:"Upload"})]}):Object(t.jsx)("h5",{children:"Nothing was uploaded"})})}):Object(t.jsxs)("div",{children:[l.user._id!==s._id&&Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("div",{className:"right",children:Object(t.jsx)(I,{post:!0,userTo:s._id,userFrom:l.user._id})}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{})]}),Object(t.jsx)("div",{className:"row",children:c.map((function(e){return Object(t.jsx)("div",{className:"col s12 m4 l4",children:Object(t.jsxs)("div",{className:"card",children:[Object(t.jsx)("div",{className:"card-image",children:Object(t.jsx)("img",{src:e.file,className:"img-responsive"})}),Object(t.jsxs)("div",{className:"card-action",children:[Object(t.jsx)(o.b,{to:"/post/".concat(e._id),children:"View post"}),Object(t.jsx)("div",{className:"right",children:Object(t.jsx)(_,{post:!0,postId:e._id})})]})]})})}))})]})};var D=function(){var e=1,c=2,s=3,l=Object(a.useContext)(p).userData,i=Object(a.useContext)(u).setLoad,n=Object(a.useState)({}),O=Object(b.a)(n,2),x=O[0],v=O[1],N=Object(a.useState)(!1),f=Object(b.a)(N,2),y=f[0],w=f[1],k=Object(a.useState)(2),S=Object(b.a)(k,2),_=S[0],E=S[1],C=Object(m.f)(),F=Object(m.g)();return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"/myprofile"!==window.location.pathname){e.next=11;break}if(!l.user._id){e.next=8;break}return e.next=5,h.a.get("".concat(g,"/profile/getUser/").concat(l.user._id));case 5:c=e.sent,e.next=9;break;case 8:return e.abrupt("return",C.replace("/"));case 9:e.next=14;break;case 11:return e.next=13,h.a.get("".concat(g,"/profile/getUser/").concat(F.id));case 13:c=e.sent;case 14:v(c.data.user),w(c.data.posts),e.next=22;break;case 18:throw e.prev=18,e.t0=e.catch(0),v(null),e.t0;case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}})()()}),[]),null===x|null===y?(i(100),Object(t.jsx)(r.a.Fragment,{children:Object(t.jsxs)("div",{className:"center",children:[Object(t.jsx)("h5",{children:"Profile not found"}),Object(t.jsx)("br",{}),Object(t.jsx)(o.b,{to:"/",className:"btn",children:"Go to Home"})]})})):x._id&&y?(i(100),Object(t.jsxs)("div",{children:[l.user._id===x._id?Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:"My Profile"})}):Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:x.username})}),l.user._id===x._id?Object(t.jsxs)("div",{className:"collection",children:[Object(t.jsx)(o.b,{to:"#",onClick:function(){E(c)},className:2===_?"collection-item active":"collection-item",children:"Profile"}),Object(t.jsx)(o.b,{to:"#",onClick:function(){E(e)},className:1===_?"collection-item active":"collection-item",children:"Edit"}),Object(t.jsx)(o.b,{to:"#",onClick:function(){E(s)},className:3===_?"collection-item active":"collection-item",children:"My posts"})]}):Object(t.jsxs)("div",{className:"collection",children:[Object(t.jsx)(o.b,{to:"#",onClick:function(){E(c)},className:2===_?"collection-item active":"collection-item",children:"Profile"}),0===x.privacy&&Object(t.jsx)(o.b,{to:"#",onClick:function(){E(s)},className:3===_?"collection-item active":"collection-item",children:"Posts"})]}),1===_&&Object(t.jsx)(P,{user:x}),2===_&&Object(t.jsx)(H,{user:x,postLength:y.length}),3===_&&Object(t.jsx)(R,{posts:y,user:x})]})):(i(24),Object(t.jsxs)("div",{children:[Object(t.jsxs)("div",{className:"hide-on-med-and-down preloader-wrapper big active",style:{left:"40rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-large-only hide-on-small-only  preloader-wrapper big active",style:{left:"26.3rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-med-and-up preloader-wrapper big active",style:{left:"9.1rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]})]}))};var K=function(){var e=Object(a.useContext)(u).setLoad,c=Object(a.useState)(null),s=Object(b.a)(c,2),r=s[0],l=s[1],i=Object(a.useState)(!1),n=Object(b.a)(i,2),o=n[0],O=n[1],x=Object(a.useState)(!1),N=Object(b.a)(x,2),f=N[0],y=N[1],w=Object(a.useState)(""),k=Object(b.a)(w,2),S=k[0],_=k[1],E=Object(a.useState)(""),C=Object(b.a)(E,2),F=C[0],T=C[1],L=Object(m.f)(),I=Object(a.useContext)(p),U=I.setuserData,P=I.userData,A=function(){var e=Object(d.a)(j.a.mark((function e(c){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),S!==f){e.next=21;break}if(e.prev=2,F){e.next=5;break}return e.abrupt("return",v.a.toast({html:"Please add all fields",classes:"orange"}));case 5:return s={why:F},e.next=8,h.a.post("".concat(g,"/settings/deleteAcc"),s,{headers:{"SHAHAL-USER_TOKEN":localStorage.getItem("USER_TOKEN")}});case 8:U({user:!1,token:!1}),localStorage.setItem("USER_TOKEN",""),v.a.toast({html:"Your account was deleted",classes:"green"}),v.a.toast({html:"Shahal, I expect you will come with another account!",classes:"orange"}),v.a.toast({html:"Shahal, Iam waiting...",classes:"green"}),L.push("/"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),alert("Something went wrong....");case 19:e.next=22;break;case 21:return e.abrupt("return",v.a.toast({html:"Wrong delete key",classes:"red"}));case 22:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(c){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(g,"/settings/Setprivate"),null,{headers:{"SHAHAL-USER_TOKEN":localStorage.getItem("USER_TOKEN")}});case 2:l(1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(g,"/settings/Setpublic"),null,{headers:{"SHAHAL-USER_TOKEN":localStorage.getItem("USER_TOKEN")}});case 2:l(0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(!1===P.user||null===P.user)return e(0),L.push("/login");(function(){var e=Object(d.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(g,"/settings/privacy"),null,{headers:{"SHAHAL-USER_TOKEN":localStorage.getItem("USER_TOKEN")}});case 3:c=e.sent,l(c.data.privacy),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Something went wrong....");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()(),e(100)}),[]),null!=r?Object(t.jsxs)("div",{children:[Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:"Privacy settings"})}),Object(t.jsx)("li",{className:"flow-text",style:{fontSize:"16px"},children:"Public: Your whole profile will be public"}),Object(t.jsx)("li",{className:"flow-text",style:{fontSize:"16px"},children:"Private: Only you can see your posts"}),Object(t.jsx)("br",{}),Object(t.jsx)("button",{onClick:H,className:"btn",children:"Private"}),Object(t.jsx)("button",{onClick:R,className:"btn",style:{marginLeft:"1rem"},children:"Public"}),Object(t.jsxs)("span",{className:"flow-text",style:{marginLeft:"1rem",fontSize:"16px"},children:[Object(t.jsx)("strong",{children:"Selected: "}),0===r?"Public":"Private"]}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{}),Object(t.jsx)("button",{className:"btn",onClick:function(){U({user:!1,token:!1}),localStorage.setItem("USER_TOKEN",""),v.a.toast({html:"You are now logged out",classes:"green"}),v.a.toast({html:"Shahal, See you later !",classes:"green"}),L.push("/")},children:"Logout"}),Object(t.jsx)("blockquote",{children:Object(t.jsx)("p",{children:"Delete account"})}),Object(t.jsx)("button",{onClick:function(){o?O(!1):(y("@@".concat(P.user.username,"@$!del*/$")),O(!0))},className:"btn red",children:"Delete account"}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{}),o&&Object(t.jsxs)("form",{children:[Object(t.jsxs)("div",{className:"input-field col s12",children:[Object(t.jsx)("input",{type:"text",id:"delete",onChange:function(e){return T(e.target.value)},required:!0,minLength:"16"}),Object(t.jsx)("label",{htmlFor:"delete","data-error":"wrong","data-success":"right",children:"What is the reason ?"}),Object(t.jsx)("br",{})]}),Object(t.jsx)("div",{className:"input-field col s12",children:Object(t.jsxs)("p",{className:"flow-text red-col",children:[Object(t.jsx)("strong",{children:"Note: "})," You can't backup your account when removed"]})}),Object(t.jsxs)("p",{className:"flow-text",children:[Object(t.jsx)("strong",{children:"Delete key: "}),f]}),Object(t.jsxs)("div",{className:"input-field col s12",children:[Object(t.jsx)("input",{type:"text",id:"sure",onChange:function(e){return _(e.target.value)},required:!0,minLength:"16"}),Object(t.jsx)("label",{htmlFor:"sure","data-error":"wrong","data-success":"right",children:"Enter Delete key to confirm"}),Object(t.jsx)("br",{})]}),Object(t.jsx)("button",{onClick:A,className:"btn red",children:"Delete"})]})]}):Object(t.jsxs)("div",{children:[Object(t.jsxs)("div",{className:"hide-on-med-and-down preloader-wrapper big active",style:{left:"40rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-large-only hide-on-small-only  preloader-wrapper big active",style:{left:"26.3rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-med-and-up preloader-wrapper big active",style:{left:"9.1rem",top:"14rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]})]})};var q=function(){var e=Object(a.useState)({user:void 0,token:void 0}),c=Object(b.a)(e,2),s=c[0],r=c[1],l=Object(a.useState)(0),i=Object(b.a)(l,2),n=i[0],O=i[1];return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(c=localStorage.getItem("USER_TOKEN"))&&(localStorage.setItem("USER_TOKEN",""),c=""),e.next=4,h.a.post("".concat(g,"/auth/checkToken"),null,{headers:{"SHAHAL-USER_TOKEN":c}});case 4:if(!0!==e.sent.data){e.next=12;break}return e.next=8,h.a.get("".concat(g,"/auth/user"),{headers:{"SHAHAL-USER_TOKEN":c}});case 8:s=e.sent,r({token:c,user:{name:s.data.user.name,username:s.data.user.username,followers:s.data.user.followers,_id:s.data.user._id,date:s.data.user.date,image:s.data.user.image}}),e.next=14;break;case 12:r({user:!1,token:!1}),localStorage.setItem("USER_TOKEN","");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),s.user||!1===s.user?Object(t.jsx)("div",{children:Object(t.jsx)(o.a,{children:Object(t.jsx)(u.Provider,{value:{setLoad:O,load:n},children:Object(t.jsxs)(p.Provider,{value:{userData:s,setuserData:r},children:[Object(t.jsx)(N,{}),Object(t.jsxs)("div",{className:"container",children:[Object(t.jsx)("br",{}),Object(t.jsxs)(m.c,{children:[Object(t.jsx)(m.a,{path:"/",exact:!0,component:F}),Object(t.jsx)(m.a,{path:"/login",component:f}),Object(t.jsx)(m.a,{path:"/post/:id",component:U}),Object(t.jsx)(m.a,{path:"/register",component:y}),Object(t.jsx)(m.a,{path:"/new",component:S}),Object(t.jsx)(m.a,{path:"/profile/:id",component:D}),Object(t.jsx)(m.a,{path:"/settings",component:K}),Object(t.jsx)(m.a,{path:"/myprofile",component:D})]})]}),Object(t.jsx)("br",{}),Object(t.jsx)("br",{})]})})})}):Object(t.jsxs)("div",{children:[Object(t.jsxs)("div",{className:"hide-on-med-and-down preloader-wrapper big active",style:{left:"57.8rem",top:"19.3rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-large-only hide-on-small-only  preloader-wrapper big active",style:{left:"32rem",top:"19.5rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]}),Object(t.jsxs)("div",{className:"hide-on-med-and-up preloader-wrapper big active",style:{left:"10.3rem",top:"19rem"},children:[Object(t.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]}),Object(t.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(t.jsx)("div",{className:"circle-clipper left",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"gap-patch",children:Object(t.jsx)("div",{className:"circle"})}),Object(t.jsx)("div",{className:"circle-clipper right",children:Object(t.jsx)("div",{className:"circle"})})]})]})]})};i.a.render(Object(t.jsx)(q,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.2d335b32.chunk.js.map